## Swift 4 
[The powerful programming language that is also easy to learn](https://developer.apple.com/swift/)  

Swift has many other features to make your code more expressive:
- Closures unified with function pointers
- Tuples and multiple return values
- Generics
- Fast and concise iteration over a range or collection
- Structs that support methods, extensions, and protocols
- Functional programming patterns, e.g., map and filter
- Native error handling using try / catch / throw 
- Advanced control flow with do, guard, defer, and repeat keywords

Define a variable ( var ) or constant ( let ).  

inferred types æ¨æ–­ç±»å‹

By default Swift objects can never be **nil**.  

Swift has an innovative feature known as **optionals**. An optional may contain nil, but Swift syntax forces you to safely deal with it using the **?** syntax to indicate to the compiler you understand the behavior and will handle it safely.  

---
## Resources
https://developer.apple.com/swift/resources/  

[The Swift Programming Language ä¸­æ–‡ç‰ˆ](http://wiki.jikexueyuan.com/project/swift/), æ¥è‡ªæå®¢å­¦é™¢.   

https://swift.org

---
æ•°æ®ç±»å‹: Int, Double, Float, Bool, String, Array, Set, Dictionary, Tuple. Swift è¿˜å¢åŠ äº†å¯é€‰ï¼ˆOptionalï¼‰ç±»å‹ï¼Œç”¨äºå¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µ.   

Swift æä¾›äº†8ï¼Œ16ï¼Œ32å’Œ64ä½çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚è¿™äº›æ•´æ•°ç±»å‹å’Œ C è¯­è¨€çš„å‘½åæ–¹å¼å¾ˆåƒï¼Œæ¯”å¦‚8ä½æ— ç¬¦å·æ•´æ•°ç±»å‹æ˜¯UInt8ï¼Œ32ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹æ˜¯ Int32.  

å¼ºåˆ¶ç±»å‹è½¬æ¢: Float(Int)  

ä½¿ç”¨ struct æ¥åˆ›å»ºä¸€ä¸ªç»“æ„ä½“ã€‚ç»“æ„ä½“å’Œç±»æœ‰å¾ˆå¤šç›¸åŒçš„åœ°æ–¹ï¼Œæ¯”å¦‚æ–¹æ³•å’Œæ„é€ å™¨ã€‚å®ƒä»¬ä¹‹é—´æœ€å¤§çš„ä¸€ä¸ªåŒºåˆ«å°±æ˜¯ç»“æ„ä½“æ˜¯ä¼ å€¼ï¼Œç±»æ˜¯ä¼ å¼•ç”¨.  

å…ƒç»„å¯ä»¥è®©ä½ åˆ›å»ºæˆ–è€…ä¼ é€’ä¸€ç»„æ•°æ®ï¼Œæ¯”å¦‚ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªå…ƒç»„å¯ä»¥è¿”å›å¤šä¸ªå€¼.  

ä½¿ç”¨typealiaså…³é”®å­—æ¥å®šä¹‰ç±»å‹åˆ«å:   
typealias AudioSample = UInt16  

Swift è¿˜æä¾›äº† C è¯­è¨€æ²¡æœ‰çš„è¡¨è¾¾ä¸¤æ•°ä¹‹é—´çš„å€¼çš„åŒºé—´è¿ç®—ç¬¦ï¼ˆa..<b å’Œ a...bï¼‰  
let (x, y) = (1, 2)  // ç°åœ¨ x ç­‰äº 1ï¼Œy ç­‰äº 2  
"hello, " + "world"  // ç­‰äº "hello, world"  
æº¢å‡ºè¿ç®—ç¬¦   

ä¸ºäº†å¾—åˆ° a % b çš„ç»“æœï¼Œ% è®¡ç®—äº†ä»¥ä¸‹ç­‰å¼ï¼Œå¹¶è¾“å‡ºä½™æ•°ä½œä¸ºç»“æœï¼š  
a = (b Ã— å€æ•°) + ä½™æ•°  
æ‰€ä»¥, -9 % 4   // ç­‰äº -1, -9 = (4 * -2) - 1  
åœ¨å¯¹è´Ÿæ•° b æ±‚ä½™æ—¶ï¼Œb çš„ç¬¦å·ä¼šè¢«å¿½ç•¥ã€‚è¿™æ„å‘³ç€ a % b å’Œ a % -b çš„ç»“æœæ˜¯ç›¸åŒçš„  

æ¯”è¾ƒå…ƒç»„å¤§å°ä¼šæŒ‰ç…§ä»å·¦åˆ°å³ã€é€å€¼æ¯”è¾ƒçš„æ–¹å¼ï¼Œç›´åˆ°å‘ç°æœ‰ä¸¤ä¸ªå€¼ä¸ç­‰æ—¶åœæ­¢:  
(1, "zebra") < (2, "apple")   // trueï¼Œå› ä¸º 1 å°äº 2  
(3, "apple") < (3, "bird")    // trueï¼Œå› ä¸º 3 ç­‰äº 3ï¼Œä½†æ˜¯ apple å°äº bird  
(4, "dog") == (4, "dog")      // trueï¼Œå› ä¸º 4 ç­‰äº 4ï¼Œdog ç­‰äº dog  

ç©ºåˆè¿ç®—ç¬¦ï¼ˆa ?? bï¼‰å°†å¯¹å¯é€‰ç±»å‹ a è¿›è¡Œç©ºåˆ¤æ–­ï¼Œå¦‚æœ a åŒ…å«ä¸€ä¸ªå€¼å°±è¿›è¡Œè§£å°ï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ bã€‚è¡¨è¾¾å¼ a å¿…é¡»æ˜¯ Optional ç±»å‹ã€‚é»˜è®¤å€¼ b çš„ç±»å‹å¿…é¡»è¦å’Œ a å­˜å‚¨å€¼çš„ç±»å‹ä¿æŒä¸€è‡´ã€‚  
ç©ºåˆè¿ç®—ç¬¦æ˜¯å¯¹ä»¥ä¸‹ä»£ç çš„ç®€çŸ­è¡¨è¾¾æ–¹æ³•ï¼š  
a != nil ? a! : b

é—­åŒºé—´è¿ç®—ç¬¦ï¼ˆa...bï¼‰å®šä¹‰ä¸€ä¸ªåŒ…å«ä» a åˆ° bï¼ˆåŒ…æ‹¬ a å’Œ bï¼‰çš„æ‰€æœ‰å€¼çš„åŒºé—´   
åŠå¼€åŒºé—´è¿ç®—ç¬¦ï¼ˆa..<bï¼‰å®šä¹‰ä¸€ä¸ªä» a åˆ° b ä½†ä¸åŒ…æ‹¬ b çš„åŒºé—´  

åœ¨ Swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹ï¼šæ•´æ•°ï¼ˆIntegerï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstring)ã€æ•°ç»„ï¼ˆarrayï¼‰å’Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œéƒ½æ˜¯å€¼ç±»å‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼æ‰€å®ç°ã€‚  

ç»“æ„ä½“å’Œæšä¸¾æ˜¯**å€¼ç±»å‹**, å€¼ç±»å‹è¢«èµ‹äºˆç»™ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå…¶å€¼ä¼šè¢«æ‹·è´.  

```Swift
let hd = Resolution(width: 1920, height: 1080)
var cinema = hd
cinema.width = 2048  
print("hd is still \(hd.width) pixels wide")
// æ‰“å° "hd is still 1920 pixels wide"
```

ç±»æ˜¯**å¼•ç”¨ç±»å‹**, ä¸å€¼ç±»å‹ä¸åŒï¼Œå¼•ç”¨ç±»å‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´.  

```Swift  
let tenEighty = VideoMode()
tenEighty.frameRate = 25.0  
let alsoTenEighty = tenEighty
alsoTenEighty.frameRate = 30.0  
print("The frameRate property of tenEighty is now \(tenEighty.frameRate)")
// æ‰“å° "The frameRate property of theEighty is now 30.0"
```

å­—ç¬¦ä¸²æ’å€¼æ˜¯ä¸€ç§æ„å»ºæ–°å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨å…¶ä¸­åŒ…å«å¸¸é‡ã€å˜é‡ã€å­—é¢é‡å’Œè¡¨è¾¾å¼  

```Swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
// message æ˜¯ "3 times 2.5 is 7.5"
```

Unicode  

Unicodeæ˜¯ä¸€ä¸ªå›½é™…æ ‡å‡†ï¼Œç”¨äºæ–‡æœ¬çš„ç¼–ç å’Œè¡¨ç¤ºã€‚ å®ƒä½¿æ‚¨å¯ä»¥ç”¨æ ‡å‡†æ ¼å¼è¡¨ç¤ºæ¥è‡ªä»»æ„è¯­è¨€å‡ ä¹æ‰€æœ‰çš„å­—ç¬¦ï¼Œå¹¶èƒ½å¤Ÿå¯¹æ–‡æœ¬æ–‡ä»¶æˆ–ç½‘é¡µè¿™æ ·çš„å¤–éƒ¨èµ„æºä¸­çš„å­—ç¬¦è¿›è¡Œè¯»å†™æ“ä½œã€‚ Swift çš„Stringå’ŒCharacterç±»å‹æ˜¯å®Œå…¨å…¼å®¹ Unicode æ ‡å‡†çš„ã€‚

Unicode æ ‡é‡

Swift çš„Stringç±»å‹æ˜¯åŸºäº Unicode æ ‡é‡ å»ºç«‹çš„ã€‚ Unicode æ ‡é‡æ˜¯å¯¹åº”å­—ç¬¦æˆ–è€…ä¿®é¥°ç¬¦çš„å”¯ä¸€çš„21ä½æ•°å­—ï¼Œä¾‹å¦‚U+0061è¡¨ç¤ºå°å†™çš„æ‹‰ä¸å­—æ¯(LATIN SMALL LETTER A)("a")ï¼ŒU+1F425è¡¨ç¤ºå°é¸¡è¡¨æƒ…(FRONT-FACING BABY CHICK) ("ğŸ¥")ã€‚

æ³¨æ„ï¼š Unicode ç ä½(code poing) çš„èŒƒå›´æ˜¯U+0000åˆ°U+D7FFæˆ–è€…U+E000åˆ°U+10FFFFã€‚Unicode æ ‡é‡ä¸åŒ…æ‹¬ Unicode ä»£ç†é¡¹(surrogate pair) ç ä½ï¼Œå…¶ç ä½èŒƒå›´æ˜¯U+D800åˆ°U+DFFFã€‚  

æ³¨æ„ä¸æ˜¯æ‰€æœ‰çš„21ä½ Unicode æ ‡é‡éƒ½ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œå› ä¸ºæœ‰ä¸€äº›æ ‡é‡æ˜¯ç•™ä½œæœªæ¥åˆ†é…çš„ã€‚å·²ç»ä»£è¡¨ä¸€ä¸ªå…¸å‹å­—ç¬¦çš„æ ‡é‡éƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„LATIN SMALL LETTER Aå’ŒFRONT-FACING BABY CHICKã€‚  

Unicode æ ‡é‡ï¼Œå†™æˆ\u{n}(uä¸ºå°å†™)ï¼Œå…¶ä¸­nä¸ºä»»æ„ä¸€åˆ°å…«ä½åå…­è¿›åˆ¶æ•°ä¸”å¯ç”¨çš„ Unicode ä½ç .  

```Swift
let wiseWords = "\"Imagination is more important than knowledge\" - Einstein"
// "Imageination is more important than knowledge" - Enistein
let dollarSign = "\u{24}"             // $, Unicode æ ‡é‡ U+0024
let blackHeart = "\u{2665}"           // â™¥, Unicode æ ‡é‡ U+2665
let sparklingHeart = "\u{1F496}"      // ğŸ’–, Unicode æ ‡é‡ U+1F496
```  

å­—æ¯Ã©å¯ä»¥ç”¨å•ä¸€çš„ Unicode æ ‡é‡Ã©(LATIN SMALL LETTER E WITH ACUTE, æˆ–è€…U+00E9)æ¥è¡¨ç¤ºã€‚ç„¶è€Œä¸€ä¸ªæ ‡å‡†çš„å­—æ¯e(LATIN SMALL LETTER Eæˆ–è€…U+0065) åŠ ä¸Šä¸€ä¸ªæ€¥ä¿ƒé‡éŸ³(COMBINING ACTUE ACCENT)çš„æ ‡é‡(U+0301)ï¼Œè¿™æ ·ä¸€å¯¹æ ‡é‡å°±è¡¨ç¤ºäº†åŒæ ·çš„å­—æ¯Ã©ã€‚ è¿™ä¸ªæ€¥ä¿ƒé‡éŸ³çš„æ ‡é‡å½¢è±¡çš„å°†eè½¬æ¢æˆäº†Ã©.   

```Swift
let eAcute: Character = "\u{E9}"                         // Ã©
let combinedEAcute: Character = "\u{65}\u{301}"          // e åé¢åŠ ä¸Š  Ì
// eAcute æ˜¯ Ã©, combinedEAcute æ˜¯ Ã©
```   

æ‰“å°ä¸æ¢è¡Œ:  

```Swift
for index in greeting.characters.indices {
   print("\(greeting[index]) ", terminator: "")
}
// æ‰“å°è¾“å‡º "G u t e n   T a g ! "
```  
æ•°ç»„ï¼ˆArraysï¼‰æ˜¯æœ‰åºæ•°æ®çš„é›†ã€‚é›†åˆï¼ˆSetsï¼‰æ˜¯æ— åºæ— é‡å¤æ•°æ®çš„é›†ã€‚å­—å…¸ï¼ˆDictionariesï¼‰æ˜¯æ— åºçš„é”®å€¼å¯¹çš„é›†  

å¯é€‰åˆ¤å®š:  
```Swift
let numberSymbol: Character = "ä¸‰"  // ç®€ä½“ä¸­æ–‡é‡Œçš„æ•°å­— 3
var possibleIntegerValue: Int?
switch numberSymbol {
case "1", "Ù¡", "ä¸€", "à¹‘":
    possibleIntegerValue = 1
case "2", "Ù¢", "äºŒ", "à¹’":
    possibleIntegerValue = 2
case "3", "Ù£", "ä¸‰", "à¹“":
    possibleIntegerValue = 3
case "4", "Ù¤", "å››", "à¹”":
    possibleIntegerValue = 4
default:
    break
}
if let integerValue = possibleIntegerValue {
    print("The integer value of \(numberSymbol) is \(integerValue).")
} else {
    print("An integer value could not be found for \(numberSymbol).")
}
// è¾“å‡º "The integer value of ä¸‰ is 3."

```  
å½“switchä»£ç å—æ‰§è¡Œå®Œåï¼Œæ¥ä¸‹æ¥çš„ä»£ç é€šè¿‡ä½¿ç”¨å¯é€‰ç»‘å®šæ¥åˆ¤æ–­possibleIntegerValueæ˜¯å¦æ›¾ç»è¢«è®¾ç½®è¿‡å€¼ã€‚å› ä¸ºæ˜¯å¯é€‰ç±»å‹çš„ç¼˜æ•…ï¼ŒpossibleIntegerValueæœ‰ä¸€ä¸ªéšå¼çš„åˆå§‹å€¼nilï¼Œæ‰€ä»¥ä»…ä»…å½“possibleIntegerValueæ›¾è¢«switchä»£ç å—çš„å‰å››ä¸ªåˆ†æ”¯ä¸­çš„æŸä¸ªè®¾ç½®è¿‡ä¸€ä¸ªå€¼æ—¶ï¼Œå¯é€‰çš„ç»‘å®šæ‰ä¼šè¢«åˆ¤å®šä¸ºæˆåŠŸã€‚  

```Swift 
if #available(iOS 10, macOS 10.12, *) {
    // åœ¨ iOS ä½¿ç”¨ iOS 10 çš„ API, åœ¨ macOS ä½¿ç”¨ macOS 10.12 çš„ API
} else {
    // ä½¿ç”¨å…ˆå‰ç‰ˆæœ¬çš„ iOS å’Œ macOS çš„ API
}
```  

ä»¥ä¸Šå¯ç”¨æ€§æ¡ä»¶æŒ‡å®šï¼Œåœ¨iOSä¸­ï¼Œifè¯­å¥çš„ä»£ç å—ä»…ä»…åœ¨ iOS 10 åŠæ›´é«˜çš„ç³»ç»Ÿä¸‹è¿è¡Œï¼›åœ¨ macOSä¸­ï¼Œä»…åœ¨ macOS 10.12 åŠæ›´é«˜æ‰ä¼šè¿è¡Œã€‚æœ€åä¸€ä¸ªå‚æ•°ï¼Œ*ï¼Œæ˜¯å¿…é¡»çš„ï¼Œç”¨äºæŒ‡å®šåœ¨æ‰€æœ‰å…¶å®ƒå¹³å°ä¸­ï¼Œå¦‚æœç‰ˆæœ¬å·é«˜äºä½ çš„è®¾å¤‡æŒ‡å®šçš„æœ€ä½ç‰ˆæœ¬ï¼Œifè¯­å¥çš„ä»£ç å—å°†ä¼šè¿è¡Œã€‚

ç”¨å…ƒç»„ï¼ˆtupleï¼‰ç±»å‹è®©å¤šä¸ªå€¼ä½œä¸ºä¸€ä¸ªå¤åˆå€¼ä»å‡½æ•°ä¸­è¿”å›.  

å¯å˜å‚æ•°: 
```Swift
func arithmeticMean(_ numbers: Double...) -> Double {
    var total: Double = 0
    for number in numbers {
        total += number
    }
    return total / Double(numbers.count)
}
arithmeticMean(1, 2, 3, 4, 5)
// è¿”å› 3.0, æ˜¯è¿™ 5 ä¸ªæ•°çš„å¹³å‡æ•°ã€‚
arithmeticMean(3, 8.25, 18.75)
// è¿”å› 10.0, æ˜¯è¿™ 3 ä¸ªæ•°çš„å¹³å‡æ•°ã€‚
```  

è¾“å…¥è¾“å‡ºå‚æ•° inout